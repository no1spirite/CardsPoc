<div class="contianer">
    
    <div class="cards-container-javascript" data-bind="foreach: cardsViewModel.cards">
        
        <!-- ko if: isCardType(0) -->
        <div class="content" data-bind="template: {name: 'messageTemplate', data: $data, afterRender: function (element) { $parent.afterInitialCardRender(element); } }, attr: { 'id' : $data.id }, 'style': { 'left': ($data.left() + 'px'), 'top': ($data.top() + 'px') }, css: { 'content-transition': $parent.loaded }, 'height-two-way': $data.height"></div>
        <!-- /ko -->

        <!-- ko if: isCardType(1) -->
        <div class="content" data-bind="template: {name: 'donationTemplate', data: $data, afterRender: function (element) { $parent.afterInitialCardRender(element); } }, attr: { 'id' : $data.id }, 'style': { 'left': ($data.left() + 'px'), 'top': ($data.top() + 'px') }, css: { 'content-transition': $parent.loaded }, 'height-two-way': $data.height"></div>
        <!-- /ko -->

    </div>
        

    <noscript>
        <div class="cards-container-wo-javascript" data-bind="foreach: cards">
            @{
                foreach (var card in Model.Cards)
                {
                    String s = card.CardType.ToString();

                    switch (s)
                    {
                        case "Message" : 
                            <div class="content">
                                <div class="message-container">
                                    <div class="image-container">
                                        <img/>
                                    </div>
                                    <div class="content-container">
                                        <div>@card.Content</div>
                                    </div>
                                </div>    
                            </div>
                            break;
                        case "Donation" :
                            <div class="content">
                                <div class="donation-container">
                                    <div class="image-container">
                                        <img src="@card.ImgUrl" />
                                    </div>  
                                    <div class="content-container">
                                        <div>@card.Content</div>
                                    </div>
                                </div> 
                            </div>
                            break;
                    }
                }
            }
        </div>  
    </noscript>
</div>

<script>
    var cardsJson = @Html.Raw(Json.Encode(Model.Cards));
</script>

@{
    Html.RenderPartial("~/Views/Shared/ko/donation.cshtml");
    Html.RenderPartial("~/Views/Shared/ko/message.cshtml");
    Bundles.Reference("~/bundles/home");
}

